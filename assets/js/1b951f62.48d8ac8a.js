"use strict";(globalThis.webpackChunktemp_docusaurus_init=globalThis.webpackChunktemp_docusaurus_init||[]).push([[4349],{7708:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"digital-twin/gazebo-fundamentals","title":"Chapter 5: Gazebo Fundamentals","description":"Module 3 hours | Difficulty: Intermediate","source":"@site/docs/02-digital-twin/05-gazebo-fundamentals.md","sourceDirName":"02-digital-twin","slug":"/digital-twin/gazebo-fundamentals","permalink":"/AI-Humanoid-Book/docs/digital-twin/gazebo-fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/specifykit/ai-native-book/tree/main/docs/02-digital-twin/05-gazebo-fundamentals.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Module 2: The Digital Twin","permalink":"/AI-Humanoid-Book/docs/digital-twin/"},"next":{"title":"Chapter 6: Physics Simulation","permalink":"/AI-Humanoid-Book/docs/digital-twin/physics-simulation"}}');var o=s(4848),r=s(8453);const l={},t="Chapter 5: Gazebo Fundamentals",a={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"What You&#39;ll Build",id:"what-youll-build",level:2},{value:"Introduction: Your Virtual Robotics Laboratory",id:"introduction-your-virtual-robotics-laboratory",level:2},{value:"Core Concepts: Understanding Gazebo Architecture",id:"core-concepts-understanding-gazebo-architecture",level:2},{value:"1. Gazebo Server (<code>gzserver</code>)",id:"1-gazebo-server-gzserver",level:3},{value:"2. Gazebo Client (<code>gzclient</code>)",id:"2-gazebo-client-gzclient",level:3},{value:"3. Worlds (<code>.world</code> files)",id:"3-worlds-world-files",level:3},{value:"4. Models (SDF Models)",id:"4-models-sdf-models",level:3},{value:"5. Gazebo ROS Packages and Plugins",id:"5-gazebo-ros-packages-and-plugins",level:3},{value:"Hands-On Tutorial: Constructing Your First Custom Gazebo World",id:"hands-on-tutorial-constructing-your-first-custom-gazebo-world",level:2},{value:"Step 1: Create a ROS 2 Package for Gazebo Worlds",id:"step-1-create-a-ros-2-package-for-gazebo-worlds",level:3},{value:"Step 2: Define a Simple <code>.world</code> File",id:"step-2-define-a-simple-world-file",level:3},{value:"Step 3: Create a Launch File to Start Gazebo and Spawn Your Robot",id:"step-3-create-a-launch-file-to-start-gazebo-and-spawn-your-robot",level:3},{value:"Step 4: Configure <code>CMakeLists.txt</code> to Install Worlds and Launch Files",id:"step-4-configure-cmakeliststxt-to-install-worlds-and-launch-files",level:3},{value:"Step 5: Build and Launch",id:"step-5-build-and-launch",level:3},{value:"Step 6: Interact with the Robot in Gazebo",id:"step-6-interact-with-the-robot-in-gazebo",level:3},{value:"Deep Dive: Gazebo Model Database and Standard Models",id:"deep-dive-gazebo-model-database-and-standard-models",level:2},{value:"Troubleshooting: Gazebo Fundamentals Issues",id:"troubleshooting-gazebo-fundamentals-issues",level:2},{value:"Practice Exercises",id:"practice-exercises",level:2},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"chapter-5-gazebo-fundamentals",children:"Chapter 5: Gazebo Fundamentals"})}),"\n",(0,o.jsx)(n.admonition,{title:"Chapter Info",type:"info",children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Module"}),": The Digital Twin | ",(0,o.jsx)(n.strong,{children:"Duration"}),": 3 hours | ",(0,o.jsx)(n.strong,{children:"Difficulty"}),": Intermediate"]})}),"\n",(0,o.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsx)(n.p,{children:"After completing this chapter, you'll be able to:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Navigate the core components and interface of Gazebo, the predominant ROS 2 simulator."}),"\n",(0,o.jsxs)(n.li,{children:["Construct simple simulation worlds (",(0,o.jsx)(n.code,{children:".world"})," files) containing various objects."]}),"\n",(0,o.jsx)(n.li,{children:"Import and spawn URDF robot models into Gazebo environments."}),"\n",(0,o.jsx)(n.li,{children:"Master interaction with the Gazebo simulation platform."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Completion of Module 1 (Chapters 1-4), particularly Chapter 4: URDF Robot Modeling."}),"\n",(0,o.jsx)(n.li,{children:"Functional ROS 2 Humble installation."}),"\n",(0,o.jsx)(n.li,{children:"Basic XML syntax understanding."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"what-youll-build",children:"What You'll Build"}),"\n",(0,o.jsx)(n.p,{children:"This chapter guides you through constructing your first custom Gazebo simulation environment, including:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["A custom ",(0,o.jsx)(n.code,{children:".world"})," file featuring a simple ground plane and static objects."]}),"\n",(0,o.jsx)(n.li,{children:"Spawning your two-link robotic arm (from Chapter 4) into this world."}),"\n",(0,o.jsx)(n.li,{children:"Controlling the robotic arm within Gazebo simulation using ROS 2 commands."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"introduction-your-virtual-robotics-laboratory",children:"Introduction: Your Virtual Robotics Laboratory"}),"\n",(0,o.jsxs)(n.p,{children:["The physical world presents challenges for robotics experimentation\u2014it's unpredictable, messy, and expensive. Consider testing a new navigation algorithm by repeatedly colliding a physical robot with obstacles, or investing hours configuring complex environments for manipulation tasks. This is where ",(0,o.jsx)(n.strong,{children:"robot simulators"})," become invaluable. Robot simulators enable creation of virtual environments complete with physics, sensors, and dynamic objects, allowing safe, repeatable, cost-effective testing and debugging of robot software."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Gazebo"})," stands as one of the most powerful and extensively used 3D robot simulators within the ROS ecosystem. It delivers a robust physics engine, high-quality graphics, and convenient interfaces for creating intricate virtual worlds that integrate seamlessly with ROS. Gazebo is an open-source platform enabling accurate simulation of robot populations in complex indoor and outdoor settings. It generates realistic sensor feedback and physically plausible interactions, making it an indispensable tool for roboticists."]}),"\n",(0,o.jsx)(n.p,{children:"This chapter establishes the foundation for effective robot simulation by exploring Gazebo fundamentals. You'll discover its core components, navigate its graphical user interface (GUI), and crucially, create custom simulation worlds. We'll animate the URDF model of the two-link robotic arm you constructed in Chapter 4, bringing it to life within a Gazebo environment, demonstrating how to spawn and interact with your robot in virtual settings. By mastering these Gazebo fundamentals, you'll acquire the capability to rapidly prototype, test, and iterate on robot designs and control algorithms, accelerating your Physical AI journey."}),"\n",(0,o.jsx)(n.h2,{id:"core-concepts-understanding-gazebo-architecture",children:"Core Concepts: Understanding Gazebo Architecture"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo is a sophisticated simulator comprising several key components working together to create realistic virtual worlds."}),"\n",(0,o.jsxs)(n.h3,{id:"1-gazebo-server-gzserver",children:["1. Gazebo Server (",(0,o.jsx)(n.code,{children:"gzserver"}),")"]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Gazebo Server"})," represents the core physics engine and simulation logic. It operates in the background, managing all physics calculations, sensor data generation, and world state updates. It lacks a graphical interface."]}),"\n",(0,o.jsxs)(n.h3,{id:"2-gazebo-client-gzclient",children:["2. Gazebo Client (",(0,o.jsx)(n.code,{children:"gzclient"}),")"]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Gazebo Client"}),' provides the graphical user interface (GUI) enabling visualization of simulations, model interaction, and sensor data inspection. It connects to the Gazebo Server to display current world state. You can launch Gazebo in "headless" mode (server only) when visualization isn\'t needed, common for large-scale data generation or reinforcement learning training.']}),"\n",(0,o.jsxs)(n.h3,{id:"3-worlds-world-files",children:["3. Worlds (",(0,o.jsx)(n.code,{children:".world"})," files)"]}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.strong,{children:"World file"})," is an XML-based file (",(0,o.jsx)(n.code,{children:".world"})," extension) defining the entire simulation environment. It specifies:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Models"}),": Robots, static objects (tables, walls), dynamic objects (balls, boxes)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Physics Engine"}),": Physics engine type (e.g., ODE, Bullet, Simbody, DART) and its parameters."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Lights"}),": Ambient, directional, point, or spot lights illuminating the scene."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ground Plane"}),": A floor for objects to rest upon."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Plugins"}),": Extend Gazebo functionality (e.g., ",(0,o.jsx)(n.code,{children:"libgazebo_ros_factory.so"})," for model spawning)."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["World files utilize ",(0,o.jsx)(n.strong,{children:"SDF (Simulation Description Format)"}),", a more comprehensive XML format than URDF. While URDF describes only single robots, SDF can describe complete environments, including multiple robots, static objects, terrain, and sensor configurations."]}),"\n",(0,o.jsx)(n.h3,{id:"4-models-sdf-models",children:"4. Models (SDF Models)"}),"\n",(0,o.jsxs)(n.p,{children:["Models in Gazebo represent objects within simulations. They can be robots, furniture, buildings, or any physical entity. Gazebo models are typically defined using SDF files (",(0,o.jsx)(n.code,{children:".sdf"})," extension).\nAn SDF model can contain:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<link>"})}),": Similar to URDF links, defining rigid bodies."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<joint>"})}),": Connecting links."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<visual>"})}),": Visual appearance."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<collision>"})}),": Collision properties."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<sensor>"})}),": Virtual sensor definitions (camera, LiDAR, IMU)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<plugin>"})}),": Extend model functionality (e.g., ",(0,o.jsx)(n.code,{children:"libgazebo_ros_diff_drive.so"})," for differential drive control)."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"5-gazebo-ros-packages-and-plugins",children:"5. Gazebo ROS Packages and Plugins"}),"\n",(0,o.jsx)(n.p,{children:"To integrate Gazebo with ROS 2, you utilize specific ROS 2 packages and Gazebo plugins:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"gazebo_ros_pkgs"})}),": Contains packages bridging ROS 2 and Gazebo (e.g., ",(0,o.jsx)(n.code,{children:"gazebo_ros"}),", ",(0,o.jsx)(n.code,{children:"gazebo_plugins"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"gazebo_ros_factory"})}),": A plugin (often loaded via ",(0,o.jsx)(n.code,{children:"spawn_entity.py"})," script or directly in launch files) allowing ROS 2 nodes to request Gazebo to spawn new models into simulations."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"gazebo_ros_control"})}),": Enables ROS 2 controllers (from ",(0,o.jsx)(n.code,{children:"ros2_control"}),") to interact with simulated robot joints in Gazebo."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"gazebo_ros_diff_drive"})," / ",(0,o.jsx)(n.code,{children:"gazebo_ros_planar_move"})]}),": Plugins providing standard ROS 2 interfaces for common mobile robot base types."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"hands-on-tutorial-constructing-your-first-custom-gazebo-world",children:"Hands-On Tutorial: Constructing Your First Custom Gazebo World"}),"\n",(0,o.jsx)(n.p,{children:"We'll create a simple Gazebo world and spawn your two-link robotic arm (from Chapter 4) into it."}),"\n",(0,o.jsx)(n.h3,{id:"step-1-create-a-ros-2-package-for-gazebo-worlds",children:"Step 1: Create a ROS 2 Package for Gazebo Worlds"}),"\n",(0,o.jsxs)(n.p,{children:["Navigate to your ROS 2 workspace ",(0,o.jsx)(n.code,{children:"src"})," directory (e.g., ",(0,o.jsx)(n.code,{children:"~/ros2_ws/src"}),").\nCreate a new package named ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_cmake my_gazebo_worlds --dependencies gazebo_ros launch_ros\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"gazebo_ros"}),": Provides necessary bridge between ROS 2 and Gazebo."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"launch_ros"}),": For writing ROS 2 Python launch files."]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"step-2-define-a-simple-world-file",children:["Step 2: Define a Simple ",(0,o.jsx)(n.code,{children:".world"})," File"]}),"\n",(0,o.jsxs)(n.p,{children:["Create a ",(0,o.jsx)(n.code,{children:"worlds"})," directory inside your ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds"})," package:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir my_gazebo_worlds/worlds\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Create the file ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds/worlds/empty_arm_world.world"})," with this content:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <world name="empty_arm_world">\n    <include>\n      <uri>model://sun</uri>\n    </include>\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Global physics parameters --\x3e\n    <physics name="default_physics" default="true" type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n    </physics>\n\n    \x3c!-- Your robot will be spawned here --\x3e\n  </world>\n</sdf>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["This simple world includes a ",(0,o.jsx)(n.code,{children:"sun"})," for lighting and a ",(0,o.jsx)(n.code,{children:"ground_plane"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"step-3-create-a-launch-file-to-start-gazebo-and-spawn-your-robot",children:"Step 3: Create a Launch File to Start Gazebo and Spawn Your Robot"}),"\n",(0,o.jsxs)(n.p,{children:["Create a ",(0,o.jsx)(n.code,{children:"launch"})," directory inside your ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds"})," package:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"mkdir my_gazebo_worlds/launch\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Create the file ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds/launch/spawn_arm.launch.py"})," with this content:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import os\nfrom ament_index_python.packages import get_package_share_directory\nfrom launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    # Get the share directory of your robot description package\n    my_robot_description_share_dir = get_package_share_directory('my_robot_description')\n    \n    # Path to your URDF file\n    urdf_path = os.path.join(my_robot_description_share_dir, 'urdf', 'two_link_arm.urdf')\n\n    # Start Gazebo server and client\n    gazebo_ros_launch_dir = get_package_share_directory('gazebo_ros')\n    gazebo_launch = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource(os.path.join(gazebo_ros_launch_dir, 'launch', 'gazebo.launch.py')),\n        launch_arguments={'world': os.path.join(get_package_share_directory('my_gazebo_worlds'), 'worlds', 'empty_arm_world.world')}.items()\n    )\n\n    # Node to publish the robot model to /robot_description\n    robot_state_publisher_node = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        name='robot_state_publisher',\n        output='screen',\n        parameters=[{'robot_description': open(urdf_path, 'r').read()}]\n    )\n\n    # Node to spawn the robot entity in Gazebo\n    # Uses the 'spawn_entity.py' script from gazebo_ros\n    spawn_entity_node = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=['-topic', 'robot_description', '-entity', 'two_link_arm'],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        gazebo_launch,\n        robot_state_publisher_node,\n        spawn_entity_node,\n    ])\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"step-4-configure-cmakeliststxt-to-install-worlds-and-launch-files",children:["Step 4: Configure ",(0,o.jsx)(n.code,{children:"CMakeLists.txt"})," to Install Worlds and Launch Files"]}),"\n",(0,o.jsxs)(n.p,{children:["Open ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds/CMakeLists.txt"}),".\nAdd these lines to install the ",(0,o.jsx)(n.code,{children:"worlds"})," and ",(0,o.jsx)(n.code,{children:"launch"})," directories:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cmake",children:"install(DIRECTORY worlds\n  DESTINATION share/${PROJECT_NAME}\n)\n\ninstall(DIRECTORY launch\n  DESTINATION share/${PROJECT_NAME}\n)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Place these after ",(0,o.jsx)(n.code,{children:"ament_export_dependencies(gazebo_ros launch_ros)"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"step-5-build-and-launch",children:"Step 5: Build and Launch"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Build the package"}),": Navigate to your workspace root (",(0,o.jsx)(n.code,{children:"~/ros2_ws"}),") and execute:","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"colcon build --packages-select my_gazebo_worlds my_robot_description # Build both packages\nsource install/setup.bash\n"})}),"\n",(0,o.jsxs)(n.em,{children:["(Ensure ",(0,o.jsx)(n.code,{children:"my_robot_description"})," is also built and sourced, as ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds"})," depends on its URDF.)"]})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Launch Gazebo and spawn your arm"}),":","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_gazebo_worlds spawn_arm.launch.py\n"})}),"\n","Gazebo GUI should open, displaying your two-link robotic arm spawned in the empty world."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"step-6-interact-with-the-robot-in-gazebo",children:"Step 6: Interact with the Robot in Gazebo"}),"\n",(0,o.jsx)(n.p,{children:"Once your robot is spawned, you can interact with it. Currently, it will appear static, as we haven't integrated controllers."}),"\n",(0,o.jsx)(n.p,{children:"You can use the Gazebo GUI to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rotate/Pan/Zoom"}),": Navigate the view."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Select Model"}),": Click on the robot to select it."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Move Model"}),": Use translate/rotate tools in the toolbar to manually move your robot. (This overrides physics, so use carefully)."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"deep-dive-gazebo-model-database-and-standard-models",children:"Deep Dive: Gazebo Model Database and Standard Models"}),"\n",(0,o.jsxs)(n.p,{children:["Gazebo includes a rich online model database (",(0,o.jsx)(n.code,{children:"model://"}),") providing ready-to-use models of robots, sensors, environments, and objects. You can include these models directly in your ",(0,o.jsx)(n.code,{children:".world"})," files using the ",(0,o.jsx)(n.code,{children:"<include>"})," tag with a ",(0,o.jsx)(n.code,{children:"uri"})," pointing to the model name."]}),"\n",(0,o.jsx)(n.p,{children:"Examples:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"model://sun"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"model://ground_plane"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"model://husky"})," (Husky mobile robot)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"model://pr2"})," (PR2 humanoid robot)"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You can also create custom SDF models for static or dynamic objects and place them in a Gazebo model path (set by the ",(0,o.jsx)(n.code,{children:"GAZEBO_MODEL_PATH"})," environment variable) for easy inclusion in your worlds."]}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-gazebo-fundamentals-issues",children:"Troubleshooting: Gazebo Fundamentals Issues"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Issue"}),": Gazebo GUI doesn't open, or Gazebo crashes on launch.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": Graphics driver issues, incompatible Gazebo version, or conflicting ROS 2 installations."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Ensure graphics drivers are current. Verify Gazebo installation. Try launching ",(0,o.jsx)(n.code,{children:"gazebo"})," directly from terminal (",(0,o.jsx)(n.code,{children:"gazebo --verbose"}),")."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Issue"}),": Robot doesn't appear in Gazebo, or appears distorted.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": URDF parsing error, incorrect paths to meshes/textures, or issues with ",(0,o.jsx)(n.code,{children:"robot_state_publisher"})," or ",(0,o.jsx)(n.code,{children:"spawn_entity.py"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Check terminal output for errors from ",(0,o.jsx)(n.code,{children:"robot_state_publisher"})," or ",(0,o.jsx)(n.code,{children:"spawn_entity.py"}),". Validate URDF file using ",(0,o.jsx)(n.code,{children:"check_urdf two_link_arm.urdf"}),". Ensure all package dependencies are met and sourced."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Issue"}),": Gazebo runs very slowly.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": High-fidelity models, many objects, complex textures, or slow hardware."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Simplify models (use simpler collision geometries), reduce sensor update rates, disable shadows if unnecessary, use headless mode for ",(0,o.jsx)(n.code,{children:"gzserver"})," (if only data generation required). Check system hardware resources."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Issue"}),": ",(0,o.jsx)(n.code,{children:"ros2 launch"})," cannot find ",(0,o.jsx)(n.code,{children:"gazebo_ros"})," or ",(0,o.jsx)(n.code,{children:"my_gazebo_worlds"}),".","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": Packages not built or not sourced."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Execute ",(0,o.jsx)(n.code,{children:"colcon build --packages-select gazebo_ros my_gazebo_worlds"})," and ",(0,o.jsx)(n.code,{children:"source install/setup.bash"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"practice-exercises",children:"Practice Exercises"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Customize Your World"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Modify ",(0,o.jsx)(n.code,{children:"empty_arm_world.world"})," to add a simple ",(0,o.jsx)(n.code,{children:"box"})," model (",(0,o.jsx)(n.code,{children:"model://box"}),") or ",(0,o.jsx)(n.code,{children:"table"})," (",(0,o.jsx)(n.code,{children:"model://table"}),") from Gazebo model database."]}),"\n",(0,o.jsxs)(n.li,{children:["Adjust its ",(0,o.jsx)(n.code,{children:"pose"})," to place it next to your robotic arm."]}),"\n",(0,o.jsx)(n.li,{children:"Relaunch Gazebo and verify the new object appears."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Spawn Multiple Robots"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Modify ",(0,o.jsx)(n.code,{children:"spawn_arm.launch.py"})," to spawn a second instance of your ",(0,o.jsx)(n.code,{children:"two_link_arm"})," at a different position."]}),"\n",(0,o.jsxs)(n.li,{children:["Ensure the ",(0,o.jsx)(n.code,{children:"entity"})," name is unique for each spawned robot."]}),"\n",(0,o.jsx)(n.li,{children:"Relaunch and verify two arms appear in your world."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explore Gazebo Plugins"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Research a simple Gazebo plugin (e.g., ",(0,o.jsx)(n.code,{children:"Camera"})," plugin or ",(0,o.jsx)(n.code,{children:"IMU"})," plugin) and attempt to add it to your URDF (or separate SDF model for a sensor)."]}),"\n",(0,o.jsxs)(n.li,{children:["Spawn the model in Gazebo and use ",(0,o.jsx)(n.code,{children:"ros2 topic list"})," to see if a new ROS 2 topic is published by the sensor."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(n.p,{children:"This chapter introduced you to robot simulation with Gazebo:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"You learned about Gazebo's core components (server, client, worlds, models)."}),"\n",(0,o.jsx)(n.li,{children:"You created a custom Gazebo world and successfully spawned your two-link robotic arm."}),"\n",(0,o.jsx)(n.li,{children:"You used ROS 2 launch files to orchestrate Gazebo and your robot model."}),"\n",(0,o.jsx)(n.li,{children:"You began interacting with the simulated environment and explored Gazebo's model database."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This foundational knowledge is crucial for testing and refining robot behavior in controlled virtual environments."}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsx)(n.p,{children:'The next chapter, "Physics Simulation," delves deeper into configuring realistic physics for robot models and generating meaningful sensor data within Gazebo.'}),"\n",(0,o.jsxs)(n.p,{children:["\u27a1\ufe0f Continue to ",(0,o.jsx)(n.a,{href:"/AI-Humanoid-Book/docs/digital-twin/physics-simulation",children:"Chapter 6: Physics Simulation"})]}),"\n",(0,o.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://classic.gazebosim.org/tutorials",children:"Gazebo Tutorials"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://sdformat.org/spec",children:"SDF Format Specification"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://classic.gazebosim.org/tutorials?cat=connect_ros",children:"ROS 2 Gazebo Integration Tutorials"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>t});var i=s(6540);const o={},r=i.createContext(o);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);